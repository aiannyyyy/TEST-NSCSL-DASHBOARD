<!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <div class="row">
              <div class="col-sm-12">
                <div class="home-tab">
                  <div class="d-sm-flex align-items-center justify-content-between border-bottom">
                   
                  </div>
                  
                  <div class="tab-content tab-content-basic">
                    <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview">
                     
                      <div class="row">
                        <div class="col-lg-8 d-flex flex-column">
                          <div class="row flex-grow">
                            <div class="col-12 grid-margin stretch-card">
                                <div class="card card-rounded">
                                    <div class="card-body">
                                      <h1>test</h1>
                                    </div>
                                </div>
                            </div>
                        </div>                                   
                        </div>

                        <!---->
                        <div class="col-lg-4 d-flex flex-column">
                          
                          <div class="row flex-grow">
                         
                            

                            <div class="col-md-6 col-lg-12 grid-margin stretch-card">
                              <div class="card card-rounded">
                                <div class="card-body">
                                  <div class="row">
                                    <h4>NSCSL Julian Date</h4>
                                    
                                    <!-- Computed Julian Date Section -->
                                    <div class="col-lg-6">
                                      <div class="d-flex justify-content-between align-items-center mb-2 mb-sm-0">
                                        <div>
                                          <p class="text-small mb-2">Computed Julian Date</p>
                                          <input type="date" id="datePicker" class="form-control mb-2">
                                          <button class="btn btn-primary button-custom" onclick="computeJulianDate()">Compute</button>
                                          <h4 class="mb-0 fw-bold" id="julianDateDisplay">--</h4>
                                        </div>
                                      </div>
                                    </div>
                            
                                    <!-- Computed Calendar Date Section -->
                                    <div class="col-lg-6">
                                      <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                          <p class="text-small mb-2">Computed Calendar Date</p>
                                          <input type="number" id="julianInput" class="form-control mb-2" placeholder="Enter Julian Date">
                                          <input type="number" id="yearInput" class="form-control mb-2" placeholder="Enter Year">
                                          <button class="btn btn-primary button-custom" onclick="computeCalendarDate()">Compute</button>
                                          <h4 class="mb-0 fw-bold" id="calendarDateDisplay">--</h4>
                                        </div>
                                      </div>
                                    </div>
                            
                                  </div>
                                </div>
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-lg-8 d-flex flex-column">
                          <div class="row flex-grow">
                            <div class="col-12 grid-margin stretch-card">
                                <div class="card card-rounded">
                                    <div class="card-body">
                                      <h1> test1</h1>
                                    </div>
                                </div>
                            </div>
                          </div>
                          <div class="row flex-grow">
                            <div class="col-md-12 col-lg-12 grid-margin stretch-card">
                                <div class="card card-rounded">
                                    <div class="card-body card-rounded">
                                        <div class="d-flex justify-content-between align-items-center mb-3">
                                            <h4 class="card-title card-title-dash">Facility Visits</h4>
                                            <div class="d-flex">
                                                <button class="btn btn-white fw-bold me-2" data-bs-toggle="modal" data-bs-target="#visitModal">
                                                    <i class="mdi mdi-account-plus"></i> Add Facility Visit
                                                </button>
                                                <button class="btn btn-white fw-bold" data-bs-toggle="modal" data-bs-target="#exportModal">
                                                    <i class="mdi mdi-file-excel"></i> Export
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Scrollable Table -->
                                        <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                            <table class="table select-table">
                                                <thead class="table-header">
                                                    <tr>
                                                        <th>Facility Code</th>
                                                        <th>Facility Name</th>
                                                        <th>Date and Time Visited</th>
                                                        <th>Province</th>
                                                        <th>Remarks</th>
                                                        <th>Attachment</th>
                                                        <th>Status</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="visitTable">
                                                    <!-- Data will be inserted dynamically via JavaScript -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Add/Edit Facility Visit Modal -->
                        <div class="modal fade" id="visitModal" tabindex="-1" aria-labelledby="visitModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="visitModalLabel">Add Facility Visit</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <form id="visitForm" enctype="multipart/form-data">
                                  <input type="hidden" id="visitId">

                                  <div class="mb-3">
                                    <label class="form-label">Facility Code</label>
                                    <input type="text" class="form-control" id="facilityCode" required>
                                  </div>

                                  <div class="mb-3">
                                    <label class="form-label">Facility Name</label>
                                    <input type="text" class="form-control" id="facilityName" required readonly>
                                  </div>

                                  <div class="mb-3">
                                    <label class="form-label">Date and Time Visited</label>
                                    <input type="datetime-local" class="form-control" id="dateVisited" required>
                                  </div>

                                  <div class="mb-3">
                                    <label class="form-label">Province</label>
                                    <select class="form-control" id="province" required>
                                      <option value="">-- Select Province --</option>
                                      <option value="Cavite">Cavite</option>
                                      <option value="Laguna">Laguna</option>
                                      <option value="Batangas">Batangas</option>
                                      <option value="Rizal">Rizal</option>
                                      <option value="Quezon">Quezon</option>
                                    </select>
                                  </div>

                                  <div class="mb-3">
                                    <label class="form-label">Status</label>
                                    <select class="form-control" id="status" required>
                                      <option value="">-- Select Status --</option>
                                      <option value="1">Active</option>
                                      <option value="0">Inactive</option>
                                      <option value="2">Closed</option>
                                    </select>
                                  </div>

                                  <div class="mb-3">
                                    <label class="form-label">Remarks</label>
                                    <textarea class="form-control" id="remarks" rows="3" placeholder="Enter any remarks or notes about this visit"></textarea>
                                  </div>

                                  <div class="mb-3">
                                      <label class="form-label">Attachment (PDF/Image/Other)</label>
                                      <input type="file" class="form-control" id="attachment">
                                      <small class="form-text text-muted">Optional</small>
                                  </div>
                                  <button type="button" class="btn btn-white text-dark fw-bold" onclick="saveFacilityVisit()">Save</button>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>


                        <!-- Export Date Range Modal -->
                        <div class="modal fade" id="exportModal" tabindex="-1" aria-labelledby="exportModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="exportModalLabel">Export Facility Visits</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <form id="exportForm"> 
                                  <div class="mb-3">
                                    <label class="form-label">Start Date</label>
                                    <input type="datetime-local" class="form-control" id="exportStartDate" required>
                                  </div>
                                  
                                  <div class="mb-3">
                                    <label class="form-label">End Date</label>
                                    <input type="datetime-local" class="form-control" id="exportEndDate" required>
                                  </div>
                                  
                                  <div class="alert alert-info">
                                    <small>Select a date range to export facility visits within that period.</small>
                                  </div>

                                  <button type="button" class="btn btn-white text-dark fw-bold" onclick="exportToExcel()">
                                    <i class="mdi mdi-file-excel"></i> Export to Excel
                                  </button>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>

                          <div class="row flex-grow">
                            <!-- Your existing notebook card, modals and table -->
                            <div class="col-md-6 col-lg-6 grid-margin stretch-card">
                              <div class="card card-rounded">
                                <div class="card-body card-rounded">
                                  <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h4 class="card-title card-title-dash">Notebooks</h4>
                                    <button class="btn btn-white fw-bold" data-bs-toggle="modal" data-bs-target="#addEventModal" style="color: black;">Online Search</button>
                                  </div>

                                  <div class="displayInfo">
                                    <div class="table-responsive">
                                      <table class="table table-hover" id="patientNotebooksTable">
                                        <thead class="table-light">
                                          <tr>
                                            <th scope="col" style="width: 40%;">First Name</th>
                                            <th scope="col" style="width: 40%;">Last Name</th>
                                            <th scope="col" style="width: 20%;" class="text-center">Actions</th>
                                          </tr>
                                        </thead>
                                        <tbody id="patientNotebooksTableBody">
                                          <!-- Table rows will be populated here -->
                                          <tr>
                                            <td colspan="3" class="text-center text-muted py-4">
                                              <i class="fas fa-book me-2"></i>
                                              No notebook entries found
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <!-- Search Modal -->
                                  <div class="modal fade" id="addEventModal" tabindex="-1" aria-labelledby="addEventModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-md modal-dialog-centered">
                                      <div class="modal-content rounded-3">
                                        <div class="modal-header">
                                          <h5 class="modal-title" id="addEventModalLabel">Search Criteria</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                          <div class="alert alert-info mb-3">
                                            <small>Enter search criteria in one or more fields below.</small>
                                          </div>
                                          <form id="notebookForm">
                                            <div class="mb-2">
                                              <label for="labno" class="form-label">Lab Number</label>
                                              <input type="text" class="form-control form-control-sm search-field" id="labno" name="labno" style="max-width: 100%;" autocomplete="on">
                                            </div>
                                            <div class="mb-2">
                                              <label for="labid" class="form-label">Filter Card Number</label>
                                              <input type="text" class="form-control form-control-sm search-field" id="labid" name="labid" style="max-width: 100%;" autocomplete="on">
                                            </div>
                                            <div class="mb-2">
                                              <label for="fname" class="form-label">First Name</label>
                                              <input type="text" class="form-control form-control-sm search-field" id="fname" name="fname" style="max-width: 100%;" autocomplete="on">
                                            </div>
                                            <div class="mb-2">
                                              <label for="lname" class="form-label">Last Name</label>
                                              <input type="text" class="form-control form-control-sm search-field" id="lname" name="lname" style="max-width: 100%;" autocomplete="on">
                                            </div>
                                            <div class="mb-3">
                                              <label for="submid" class="form-label">Facility Code</label>
                                              <input type="text" class="form-control form-control-sm search-field" id="submid" name="submid" style="max-width: 100%;" autocomplete="on">
                                            </div>
                                            <div class="d-flex gap-2">
                                              <button type="submit" class="btn btn-primary btn-sm text-white search-button" disabled>Search</button>
                                              <button type="button" class="btn btn-danger btn-sm text-white reset-button">Reset</button>
                                            </div>
                                          </form>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  <!-- Results Modal -->
                                  <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-lg modal-dialog-centered" style="max-width: 55vw;">
                                      <div class="modal-content rounded-3">
                                        <div class="modal-header d-flex justify-content-between align-items-center">
                                          <h5 class="modal-title" id="resultsModalLabel">Search Results</h5>
                                          <div>
                                            <button type="button" class="btn btn-secondary btn-sm me-2 text-white" id="backToSearchBtn">Back to Search</button>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                          </div>
                                        </div>
                                        <div class="modal-body">
                                          <div class="table-responsive" style="max-height: 500px; overflow-y: auto;">
                                            <table id="notebookTable" class="table table-sm table-bordered table-striped">
                                              <thead>
                                                <tr>
                                                  <th>Lab No</th>
                                                  <th>Filter Card No</th>
                                                  <th>First Name</th>
                                                  <th>Last Name</th>
                                                  <th>Gender</th>
                                                  <th>DOB</th>
                                                  <th>Birth Weight</th>
                                                  <th>Facility Code</th>
                                                </tr>
                                              </thead>
                                              <tbody>
                                                <!-- Results will appear here -->
                                              </tbody>
                                            </table>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  <!-- Details Modal -->
                                  <!-- Details Modal -->
                                  <div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
                                      <div class="modal-content rounded-4 shadow-sm border-0">
                                        <div class="modal-header bg-primary text-white">
                                          <h5 class="modal-title fw-bold" id="detailsModalLabel">Patient and Notebook Details</h5>
                                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>

                                        <div class="modal-body px-4 py-3">
                                          <div class="container-fluid">
                                            <div class="row gx-4">
                                             <!-- Left Section: Patient Info Table -->
                                            <div class="col-md-5 mb-2">
                                              <div class="card shadow-sm" style="font-size: 12px;">
                                                <div class="card-header py-1 px-2 bg-light fw-semibold text-center" style="font-size: 13px;">
                                                  Patient Information
                                                </div>
                                                <div class="card-body p-2">
                                                  <table class="table table-sm table-bordered mb-0 compact-table">
                                                    <colgroup>
                                                      <col style="width: 40%;">
                                                      <col style="width: 60%;">
                                                    </colgroup>
                                                    <tbody class="text-start align-top">
                                                      <tr><th scope="row">Lab No</th><td id="detailLabNo"></td></tr>
                                                      <tr><th scope="row">Form No</th><td id="detailFormNo"></td></tr>
                                                      <tr><th scope="row">Last Name</th><td id="detailLName"></td></tr>
                                                      <tr><th scope="row">First Name</th><td id="detailFName"></td></tr>
                                                      <tr><th scope="row">Birth</th><td id="detailDOB"></td></tr>
                                                      <tr><th scope="row">Collection</th><td id="detailDOC"></td></tr>
                                                      <tr><th scope="row">Specimen Type</th><td id="detailSpectype"></td></tr>
                                                      <tr><th scope="row">Milk Type</th><td id="detailMilkType"></td></tr>
                                                      <tr><th scope="row">Sex</th><td id="detailSex"></td></tr>
                                                      <tr><th scope="row">Birth Weight</th><td id="detailBirthWt"></td></tr>
                                                      <tr><th scope="row">Birth Order</th><td id="detailBirthOrder"></td></tr>
                                                      <tr><th scope="row">Blood Transfused</th><td id="detailBloodTransfused"></td></tr>
                                                      <tr><th scope="row">Transfused Date</th><td id="detailTransfusedDate"></td></tr>
                                                      <tr><th scope="row">Gestation Age</th><td id="detailGestationAge"></td></tr>
                                                      <tr><th scope="row">Specimen Age</th><td id="detailSpecimenAge"></td></tr>
                                                      <tr><th scope="row">Age at Collection</th><td id="detailAgeAtCollection"></td></tr>
                                                      <tr><th scope="row">Date Received</th><td id="detailDateReceived"></td></tr>
                                                      <tr><th scope="row">Date Reported</th><td id="detailDateReported"></td></tr>
                                                      <tr><th scope="row">Clinical Status</th><td id="detailClinicalStatus"></td></tr>
                                                      <tr><th scope="row">Physician ID</th><td id="detailPhysicianId"></td></tr>
                                                      <tr><th scope="row">Birth Hospital ID</th><td id="detailBirthHospId"></td></tr>
                                                      <tr><th scope="row">Birth Hospital Name</th><td id="detailBirthHospName"></td></tr>
                                                      <tr><th scope="row">Facility Code</th><td id="detailSubmId"></td></tr>
                                                    </tbody>
                                                  </table>
                                                </div>
                                              </div>
                                            </div>

                                              <!-- Right Section: Results + Notebook -->
                                              <div class="col-md-7 d-flex flex-column gap-3">
                                                <!-- Results Table -->
                                                <div class="card shadow-sm flex-grow-1">
                                                  <div class="card-header bg-light fw-semibold text-center">
                                                    Results Details
                                                  </div>
                                                  <div class="table-responsive p-3" style="max-height: fit; overflow-y: auto;">
                                                    <table id="resultsDetailsTable" class="table table-bordered table-sm text-center align-middle mb-0 compact-table" style="font-size: 14px;">
                                                      <thead class="table-light">
                                                        <tr>
                                                          <th>Group</th>
                                                          <th>Disorder</th>
                                                          <th>Mnemonic</th>
                                                          <th>Result</th>
                                                          <th>Text</th>
                                                        </tr>
                                                      </thead>
                                                      <tbody></tbody>
                                                    </table>
                                                  </div>
                                                </div>

                                                <!-- Notebook Details -->
                                                <div class="card shadow-sm">
                                                  <div class="card-header d-flex justify-content-between align-items-center bg-light">
                                                    <span class="fw-semibold">Notebook Details</span>
                                                    <button type="button" class="btn btn-primary btn-sm text-white" data-bs-toggle="modal" data-bs-target="#addNotebookModal">
                                                      <i class="fas fa-plus"></i> Add Notebook
                                                    </button>
                                                  </div>

                                                  <div class="card-body p-3" style="max-height: 350px; overflow-y: auto; font-size: 14px;">
                                                    <div id="notebookContainer" class="mb-3">
                                                      <p class="text-muted mb-0">No notebook entries found.</p>
                                                    </div>

                                                    <div id="addednotebookContainer">
                                                      <h5 class="mb-3 border-bottom pb-2">PDO Notebook</h5>
                                                      <p class="text-muted mb-0">No notebook entries found.</p>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>

                                        <div class="modal-footer justify-content-between px-4">
                                          <button type="button" class="btn btn-secondary text-white" id="backToTableBtn">Back to Table</button>
                                          <button type="button" class="btn btn-primary text-white" id="backToSearchFromDetailsBtn">Back to Search</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- Add Notebook Modal -->
                                  <div class="modal fade" id="addNotebookModal" tabindex="-1" aria-labelledby="addNotebookModalLabel" aria-hidden="true">
                                      <div class="modal-dialog modal-md modal-dialog-centered">
                                          <div class="modal-content rounded-3">
                                              <div class="modal-header">
                                                  <h5 class="modal-title" id="addNotebookModalLabel">Add Notebook Entry</h5>
                                                  <button type="button" class="btn-close" id="closeAddNotebookBtn" data-bs-dismiss="modal" aria-label="Close"></button>
                                              </div>
                                              <div class="modal-body">
                                                  <form id="addNotebookForm">
                                                      <div class="mb-3">
                                                          <label for="notebookNotes" class="form-label">Notes</label>
                                                          <textarea class="form-control" id="notebookNotes" name="notebookNotes"
                                                            placeholder="Enter your notes here..." required
                                                            style="height: 200px;"></textarea>
                                                      </div>
                                                  </form>
                                              </div>
                                              <div class="modal-footer">
                                                  <button type="button" class="btn btn-secondary text-white" id="cancelAddNotebookBtn" data-bs-dismiss="modal">Cancel</button>
                                                  <button type="button" class="btn btn-primary text-white" id="saveNotebookBtn">
                                                      <span id="saveButtonText">Save Changes</span>
                                                      <span id="saveButtonSpinner" class="spinner-border spinner-border-sm ms-2" style="display: none;"></span>
                                                  </button>
                                              </div>
                                          </div>
                                      </div>
                                  </div>

                                </div>
                              </div>
                            </div>
                            <div class="col-md-6 col-lg-6 grid-margin stretch-card">
                              <div class="card card-rounded" style="height: fit-content;">
                                <div class="card-body">
                                    <div class="d-flex align-items-center justify-content-between mb-3">
                                        <h4 class="card-title card-title-dash fw-bold">Report Generation</h4>
                                        <div class="dropdown">
                                            <button class="btn btn-light dropdown-toggle toggle-dark btn-lg mb-0 me-0" type="button"
                                                id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                Select Here
                                            </button>
                                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton3">
                                              <a class="dropdown-item" href="#" data-value="daily" onclick="handleDropdownSelection(this, event)">Daily</a>
                                              <a class="dropdown-item" href="#" data-value="monthly" onclick="handleDropdownSelection(this, event)">Monthly</a>
                                              <a class="dropdown-item" href="#" data-value="yearly" onclick="handleDropdownSelection(this, event)">Yearly</a>
                                          </div>
                                          
                                        </div>
                                    </div>
                            
                                    <!-- Scrollable list container -->
                                    <div id="reportContainer" style="max-height: 150px; overflow-y: auto;">
                                        <ul class="bullet-line-list" id="reportList">
                                            <!-- Daily Reports (Default View) -->
                                            <li class="daily">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">Filtercard Monitoring</span></div>
                                                    <p onclick="runExe('daily1')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="daily">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">NSF Performance Report</span></div>
                                                    <p onclick="runExe('daily2')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="daily">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">Result Tracking System</span></div>
                                                    <p onclick="runExe('daily3')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <!--
                                            <li class="daily">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">Sample Per Province</span></div>
                                                    <p onclick="runExe('daily4')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            -->
                                            <!-- Monthly Reports -->
                                            <li class="monthly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">MENU FOR PDO</span></div>
                                                    <p onclick="runExe('monthly1')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="monthly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">NSRC Report</span></div>
                                                    <p onclick="runExe('monthly2')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="monthly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">New Sample Receipt</span></div>
                                                    <p onclick="runExe('monthly3')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="monthly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">Quezon Sample Receipt</span></div>
                                                    <p onclick="runExe('monthly4')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <!-- Yearly Reports -->
                                            <li class="yearly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">NSRC Reports</span></div>
                                                    <p onclick="runExe('yearly1')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                            <li class="yearly" style="display: none;">
                                                <div class="d-flex justify-content-between">
                                                    <div><span class="text-light-green">Total Sample Receipt</span></div>
                                                    <p onclick="runExe('yearly2')" style="cursor:pointer; color:blue;">Run</p>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>        
                            </div>
                          </div>
                        </div>
                          <!-- Bootstrap Modal for Adding To-Do -->
                          <div class="modal fade" id="todoModal" tabindex="-1" aria-labelledby="todoModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title" id="todoModalLabel">Add Todo Item</h5>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  <input type="text" id="todoInput" class="form-control" placeholder="Enter task">
                                  <input type="date" id="todoDate" class="form-control mt-2">
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">Close</button>
                                  <button type="button" class="btn btn-primary text-white" id="saveTodo">Save</button>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- To-Do List Section -->
                          <div class="col-lg-4 d-flex flex-column">
                            <div class="row flex-grow">
                              <div class="col-12 grid-margin stretch-card">
                                <div class="card card-rounded">
                                  <div class="card-body">
                                    <div class="row">
                                      <div class="col-lg-12">
                                        <div class="d-flex justify-content-between align-items-center">
                                          <h4 class="card-title card-title-dash">Todo list</h4>
                                          <div class="add-items d-flex mb-0">
                                            <button class="add btn btn-icons btn-rounded btn-primary text-white" data-bs-toggle="modal" data-bs-target="#todoModal">
                                              <i class="mdi mdi-plus"></i>
                                            </button>
                                          </div>
                                        </div>
                                        <div class="list-wrapper">
                                          <ul class="todo-list todo-list-rounded" id="todoList">
                                            <!-- Newly added tasks will appear here -->
                                          </ul>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            

                            <!-- Your existing chart HTML remains the same -->
                            <div class="row flex-grow">
                                <div class="col-12 grid-margin stretch-card">
                                    <div class="card card-rounded">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                                        <h4 class="card-title card-title-dash7">Facilities Visits By this Month of <span> June </span></h4>
                                                    </div>

                                                    
                                                    <div>
                                                        <canvas class="my-auto" id="doughnutChart" style="height: 500px; width: 400px"></canvas>
                                                    </div>
                                                    <div id="doughnutChart-legend" class="mt-5 text-center"></div>
                                                </div>
                                           
                                                 <div class="dropdown d-inline-block">
                                                    <button class="btn btn-light dropdown-toggle toggle-dark btn-lg mb-0 me-2" type="button" id="facilityDropdownBtnA" data-bs-toggle="dropdown">2024</button>
                                                    <div class="dropdown-menu" id="facilityDropdownA">
                                                        <a class="dropdown-item" href="#" data-year="2025">2025</a>
                                                        <a class="dropdown-item" href="#" data-year="2024">2024</a>
                                                        <a class="dropdown-item" href="#" data-year="2023">2023</a>
                                                        <a class="dropdown-item" href="#" data-year="2022">2022</a>
                                                        <a class="dropdown-item" href="#" data-year="2021">2021</a>
                                                        <a class="dropdown-item" href="#" data-year="2020">2020</a>
                                                        <a class="dropdown-item" href="#" data-year="2019">2019</a>
                                                        <a class="dropdown-item" href="#" data-year="2018">2018</a>
                                                        <a class="dropdown-item" href="#" data-year="2017">2017</a>
                                                        <a class="dropdown-item" href="#" data-year="2016">2016</a>
                                                        <a class="dropdown-item" href="#" data-year="2015">2015</a>
                                                        <a class="dropdown-item" href="#" data-year="2014">2014</a>
                                                        <a class="dropdown-item" href="#" data-year="2013">2013</a>
                                                    </div>

                                                  <div class="dropdown d-inline-block mb-2">
                                                    <button class="btn btn-light dropdown-toggle toggle-dark btn-lg mb-0 me-2" type="button" id="facilitymonthDropdownBtn2" data-bs-toggle="dropdown">January</button>
                                                    <div class="dropdown-menu" id="facilitymonthDropdown2">
                                                      <a class="dropdown-item" href="#" data-month="January">January</a>
                                                      <a class="dropdown-item" href="#" data-month="February">February</a>
                                                      <a class="dropdown-item" href="#" data-month="March">March</a>
                                                      <a class="dropdown-item" href="#" data-month="April">April</a>
                                                      <a class="dropdown-item" href="#" data-month="May">May</a>
                                                      <a class="dropdown-item" href="#" data-month="June">June</a>
                                                      <a class="dropdown-item" href="#" data-month="July">July</a>
                                                      <a class="dropdown-item" href="#" data-month="August">August</a>
                                                      <a class="dropdown-item" href="#" data-month="September">September</a>
                                                      <a class="dropdown-item" href="#" data-month="October">October</a>
                                                      <a class="dropdown-item" href="#" data-month="November">November</a>
                                                      <a class="dropdown-item" href="#" data-month="December">December</a>
                                                    </div>
                                                  </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ✅ Facilities Modal -->
                            <div class="modal fade" id="facilitiesModal" tabindex="-1" aria-labelledby="facilitiesModalLabel" aria-hidden="true">
                              <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title" id="facilitiesModalLabel">Facility List</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                    <table class="table table-bordered">
                                      <thead>
                                        <tr>
                                          <th>Facility Code</th>
                                          <th>Facility Name</th>
                                          <th>Date Visited</th>
                                          <th>Province</th>
                                        </tr>
                                      </thead>
                                      <tbody id="facilityTableBody">
                                        <!-- dynamically filled -->
                                      </tbody>
                                    </table>
                                  </div>
                                </div>
                              </div>
                            </div>

                
                            <div class="row flex-grow">
                              <div class="col-12 grid-margin stretch-card">
                                <div class="card card-rounded">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="d-flex justify-content-between align-items-center mb-3">
                                                  <div>
                                                    <h4 class="card-title card-title-dash2">Timeliness of NBS </h4> <span class="province">Province</span> <br>
                                                </div>
                                                
                                                    <div>
                                                        <div class="dropdown">
                                                            <!-- Year 1 Dropdown -->
                                                            <button class="btn btn-light dropdown-toggle" type="button" id="year1Dropdown" data-bs-toggle="dropdown">Year</button>
                                                            <div class="dropdown-menu" id="year1Menu">
                                                                <a class="dropdown-item" href="#" time-year1-value="2024">2024</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2023">2023</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2022">2022</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2021">2021</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2020">2020</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2019">2019</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2018">2018</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2017">2017</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2016">2016</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2015">2015</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2014">2014</a>
                                                                <a class="dropdown-item" href="#" time-year1-value="2013">2013</a>
                                                            </div>
                                                            <span> VS </span>
                                                            <!-- Year 2 Dropdown -->
                                                            <button class="btn btn-light dropdown-toggle" type="button" id="year2Dropdown" data-bs-toggle="dropdown">Year</button>
                                                            <div class="dropdown-menu" id="year2Menu">
                                                                <a class="dropdown-item" href="#" time-year2-value="2025">2025</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2024">2024</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2023">2023</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2022">2022</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2021">2021</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2020">2020</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2019">2019</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2018">2018</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2017">2017</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2016">2016</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2015">2015</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2014">2014</a>
                                                                <a class="dropdown-item" href="#" time-year2-value="2013">2013</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <!-- Table for AOC (hidden initially) -->
                                                  <table class="custom-table" id="aocTable" style="display: none;">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="3">Month</th>
                                                            <th colspan="6">AOC</th>
                                                        </tr>
                                                        <tr>
                                                            <th colspan="2">AVE</th>
                                                            <th colspan="2">MED</th>
                                                            <th colspan="2">MOD</th>
                                                        </tr>
                                                        <tr>
                                                            <th id="year1">2024</th>
                                                            <th id="year2">2025</th>
                                                            <th id="year1">2024</th>
                                                            <th id="year2">2025</th>
                                                            <th id="year1">2024</th>
                                                            <th id="year2">2025</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="month">Jan</td>
                                                            <td id="aoc-ave-year1">-</td><td id="aoc-ave-year2">-</td>
                                                            <td id="aoc-med-year1">-</td><td id="aoc-med-year2">-</td>
                                                            <td id="aoc-mod-year1">-</td><td id="aoc-mod-year2">-</td>
                                                        </tr>
                                                    </tbody>
                                                  </table>

                                                  <!-- Table for Transit Time (hidden initially) -->
                                                  <table class="custom-table" id="transitTimeTable" style="display: none;">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="3">Month</th>
                                                            <th colspan="6">Transit Time</th>
                                                        </tr>
                                                        <tr>
                                                            <th colspan="2">AVE</th>
                                                            <th colspan="2">MED</th>
                                                            <th colspan="2">MOD</th>
                                                        </tr>
                                                        <tr>
                                                            <th id="year11">2024</th>
                                                            <th id="year22">2025</th>
                                                            <th id="year11">2024</th>
                                                            <th id="year22">2025</th>
                                                            <th id="year11">2024</th>
                                                            <th id="year22">2025</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="month1">Jan</td>
                                                            <td id="transit-ave-year1">-</td><td id="transit-ave-year2">-</td>
                                                            <td id="transit-med-year1">-</td><td id="transit-med-year2">-</td>
                                                            <td id="transit-mod-year1">-</td><td id="transit-mod-year2">-</td>
                                                        </tr>
                                                    </tbody>
                                                  </table>

                                                  <!-- Table for Age Upon Receipt -->
                                                  <table class="custom-table" id="ageUponReceiptTable">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="3">Month</th>
                                                            <th colspan="6">Age Upon Receipt</th>
                                                        </tr>
                                                        <tr>
                                                            <th colspan="2">AVE</th>
                                                            <th colspan="2">MED</th>
                                                            <th colspan="2">MOD</th>
                                                        </tr>
                                                        <tr>
                                                            <th id="year111">2024</th>
                                                            <th id="year222">2025</th>
                                                            <th id="year111">2024</th>
                                                            <th id="year222">2025</th>
                                                            <th id="year111">2024</th>
                                                            <th id="year222">2025</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td class="month11">Jan</td>
                                                            <td id="age-ave-year1">-</td><td id="age-ave-year2">-</td>
                                                            <td id="age-med-year1">-</td><td id="age-med-year2">-</td>
                                                            <td id="age-mod-year1">-</td><td id="age-mod-year2">-</td>
                                                        </tr>
                                                    </tbody>
                                                  </table>
                                                <!-- Month and Province Dropdowns -->
                                                <div class="dropdown mt-3">
                                                    <!-- Month Dropdown -->
                                                    <button class="btn btn-light dropdown-toggle" type="button" id="monthDropdownButton" data-bs-toggle="dropdown">Select Month</button>
                                                    <div class="dropdown-menu" id="monthMenu">
                                                        <a class="dropdown-item" href="#" time-month-value="Jan">Jan</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Feb">Feb</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Mar">Mar</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Apr">Apr</a>
                                                        <a class="dropdown-item" href="#" time-month-value="May">May</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Jun">Jun</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Jul">Jul</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Aug">Aug</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Sept">Sept</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Oct">Oct</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Nov">Nov</a>
                                                        <a class="dropdown-item" href="#" time-month-value="Dec">Dec</a>
                                                    </div>

                                                    <button class="btn btn-light dropdown-toggle toggle-dark btn-lg" type="button" id="provinceDropdownButton" data-bs-toggle="dropdown">
                                                        Select Province
                                                    </button>
                                                    <div class="dropdown-menu" aria-labelledby="provinceDropdownButton">
                                                        <a class="dropdown-item province-item" time-prov-value="Cavite">Cavite</a>
                                                        <a class="dropdown-item province-item" time-prov-value="Laguna">Laguna</a>
                                                        <a class="dropdown-item province-item" time-prov-value="Batangas">Batangas</a>
                                                        <a class="dropdown-item province-item" time-prov-value="Rizal">Rizal</a>
                                                        <a class="dropdown-item province-item" time-prov-value="Quezon">Quezon</a>
                                                    </div>
                                                    <button class="btn btn-light" id="prevButton" style="margin-right: 10px;">Prev</button>
                                                    <button class="btn btn-light" id="nextButton">Next</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row flex-grow">
                            <div class="col-12 grid-margin stretch-card">
                              <div class="card card-rounded">
                                <div class="card-body">
                                  <div class="row">
                                    <div class="col-lg-12">
                                      <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h4 class="card-title card-title-dash">
                                          <i class="mdi mdi-chart-line me-2 text-primary"></i>
                                          Top Unsatisfactory Sample Contributor <br>
                                          <span class="selected-month-year text-primary"></span>
                                        </h4>
                                      </div>                                                                          
                                      
                                      <!-- Scrollable Container -->
                                      <div class="mt-3 scrollable-container" style="max-height: 400px; overflow-y: auto; border: 1px solid #e9ecef; border-radius: 8px; padding: 10px;">
                                        <!-- Data will be inserted dynamically here -->
                                      </div>
                                      <!-- End Scrollable Container -->
                                    </div>
                                  </div>
                                  <br>
                                  <div class="btn-group w-100" role="group" aria-label="Basic radio toggle button group">
                                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                                    <label class="btn btn-outline-primary" for="btnradio1">
                                      <i class="mdi mdi-counter me-1"></i>
                                      By Numbers
                                    </label>
                                  
                                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                                    <label class="btn btn-outline-primary" for="btnradio2">
                                      <i class="mdi mdi-percent me-1"></i>
                                      By Percentages
                                    </label>
                                    
                                    <!-- Button to Open Modal -->
                                    <button class="btn btn-success custom-btn" data-bs-toggle="modal" data-bs-target="#dateRangeModal">
                                      <i class="mdi mdi-calendar-range me-1"></i>
                                      Select Date Range
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- Facility Details Modal -->
                          <div class="modal fade" id="facilityDetailsModal" tabindex="-1" aria-labelledby="facilityDetailsModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-xl">
                              <div class="modal-content">
                                <div class="modal-header bg-primary text-white">
                                  <h5 class="modal-title" id="facilityDetailsModalLabel">
                                    <i class="mdi mdi-hospital-building me-2"></i>
                                    Facility Details
                                  </h5>
                                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body" id="facilityDetailsModalBody">
                                  <!-- Content will be loaded dynamically -->
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary text-white" data-bs-dismiss="modal">
                                    <i class="mdi mdi-close me-1"></i>
                                    Close
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>

                            <!-- Modal -->
                            <div class="modal fade" id="dateRangeModal" tabindex="-1" aria-labelledby="dateRangeModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                  <div class="modal-content">
                                      <div class="modal-header">
                                          <h5 class="modal-title" id="dateRangeModalLabel">Select Date & Time Range</h5>
                                          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                      </div>
                                      <div class="modal-body">
                                          <label for="dateTimeFrom" class="form-label">Date & Time From:</label>
                                          <input type="datetime-local" id="dateTimeFrom" class="form-control">

                                          <label for="dateTimeTo" class="form-label mt-2">Date & Time To:</label>
                                          <input type="datetime-local" id="dateTimeTo" class="form-control">
                                      </div>
                                      <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                          <button type="button" class="btn btn-success custom-btn" onclick="applyDateFilter()">Apply</button>
                                      </div>
                                  </div>
                              </div>
                            </div>

                            
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
